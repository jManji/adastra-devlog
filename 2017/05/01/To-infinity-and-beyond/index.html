<!DOCTYPE html>
<html lang="en">

<!-- Head tag -->
<head>

    <meta charset="utf-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1">

    <!--Description-->
    
        <meta name="description" content="Space shooters can deal with space movement in various ways. Asteroids has the player’s position being flipped on the other side, when touching the ed">
    

    <!--Author-->
    
        <meta name="author" content="strahius">
    

    <!--Open Graph Title-->
    
        <meta property="og:title" content="To infinity and beyond"/>
    

    <!--Open Graph Description-->
    

    <!--Open Graph Site Name-->
    <meta property="og:site_name" content="Ad Astra"/>

    <!--Type page-->
    
        <meta property="og:type" content="article" />
    

    <!--Page Cover-->
    

        <meta name="twitter:card" content="summary" />
    

    <!-- Title -->
    
    <title>To infinity and beyond - Ad Astra</title>

    <!-- Bootstrap Core CSS -->
    <link href="//maxcdn.bootstrapcdn.com/bootstrap/3.3.6/css/bootstrap.min.css" rel="stylesheet"/>

    <!-- Custom CSS -->
    <link rel="stylesheet" href="../../../../css/style.css">

    <!-- Custom Fonts -->
    <link href="//maxcdn.bootstrapcdn.com/font-awesome/4.6.3/css/font-awesome.min.css" rel="stylesheet" type="text/css">
    <link href="//fonts.googleapis.com/css?family=Lora:400,700,400italic,700italic" rel="stylesheet" type="text/css">
    <link href="//fonts.googleapis.com/css?family=Open+Sans:300italic,400italic,600italic,700italic,800italic,400,300,600,700,800" rel="stylesheet" type="text/css">

    <!-- HTML5 Shim and Respond.js IE8 support of HTML5 elements and media queries -->
    <!-- WARNING: Respond.js doesn't work if you view the page via file:// -->
    <!--[if lt IE 9]>
    <script src="//oss.maxcdn.com/libs/html5shiv/3.7.0/html5shiv.js"></script>
    <script src="//oss.maxcdn.com/libs/respond.js/1.4.2/respond.min.js"></script>
    <![endif]-->

    <!-- Gallery -->
    <link href="//cdnjs.cloudflare.com/ajax/libs/featherlight/1.3.5/featherlight.min.css" type="text/css" rel="stylesheet" />

    <!-- Google Analytics -->
    
    <script>
        (function(i,s,o,g,r,a,m){i['GoogleAnalyticsObject']=r;i[r]=i[r]||function(){
                    (i[r].q=i[r].q||[]).push(arguments)},i[r].l=1*new Date();a=s.createElement(o),
                m=s.getElementsByTagName(o)[0];a.async=1;a.src=g;m.parentNode.insertBefore(a,m)
        })(window,document,'script','//www.google-analytics.com/analytics.js','ga');

        ga('create', 'UA-91496300-1', 'auto');
        ga('send', 'pageview');

    </script>



    <!-- favicon -->
    
	
</head>


<body>

    <!-- Menu -->
    <!-- Navigation -->
<nav class="navbar navbar-default navbar-custom navbar-fixed-top">
    <div class="container-fluid">
        <!-- Brand and toggle get grouped for better mobile display -->
        <div class="navbar-header page-scroll">
            <button type="button" class="navbar-toggle" data-toggle="collapse" data-target="#bs-example-navbar-collapse-1">
                <span class="sr-only">Toggle navigation</span>
                <span class="icon-bar"></span>
                <span class="icon-bar"></span>
                <span class="icon-bar"></span>
            </button>
            <a class="navbar-brand" href="http://play.adastrathegame.com">Play Ad Astra</a>
        </div>

        <!-- Collect the nav links, forms, and other content for toggling -->
        <div class="collapse navbar-collapse" id="bs-example-navbar-collapse-1">
            <ul class="nav navbar-nav navbar-right">
                
                    <li>
                        <a href="../../../../index.html">
                            
                                Home
                            
                        </a>
                    </li>
                
                    <li>
                        <a href="../../../../archives">
                            
                                Archives
                            
                        </a>
                    </li>
                
                    <li>
                        <a href="https://github.com/jManji/adastra">
                            
                                <i class="fa fa-github fa-stack-2x"></i>
                            
                        </a>
                    </li>
                
            </ul>
        </div>
        <!-- /.navbar-collapse -->
    </div>
    <!-- /.container -->
</nav>

    <!-- Main Content -->
    <!-- Page Header -->
<!-- Set your background image for this header in your post front-matter: cover -->

<header class="intro-header" style="background-image: url('/images/home-bg.jpg')">
    <div class="container">
        <div class="row">
            <div class="col-lg-8 col-lg-offset-2 col-md-10 col-md-offset-1">
                <div class="post-heading">
                    <h1>To infinity and beyond</h1>
                    
                    <span class="meta">
                        <!-- Date and Author -->
                        
                            Posted by strahius on
                        
                        2017-05-01
                    </span>
                </div>
            </div>
        </div>
    </div>
</header>

<!-- Post Content -->
<article>
    <div class="container">
        <div class="row">

            <!-- Tags and categories -->
           
                <div class="col-lg-4 col-lg-offset-2 col-md-5 col-md-offset-1 post-tags">
                    
                        


<a href="/tags/Phaser-CE/">#Phaser CE</a> <a href="/tags/Scrolling/">#Scrolling</a> <a href="/tags/Texture/">#Texture</a>


                    
                </div>
                <div class="col-lg-4 col-md-5 post-categories">
                    
                        

<a href="/categories/Ad-Astra/">Ad Astra</a>

                    
                </div>
            

            <!-- Gallery -->
            

            <!-- Post Main Content -->
            <div class="col-lg-8 col-lg-offset-2 col-md-10 col-md-offset-1">
                <p>Space shooters can deal with space movement in various ways. Asteroids has the player’s position being flipped on the other side, when touching the edge of the screen, <a href="https://en.wikipedia.org/wiki/Geometry_Wars:_Retro_Evolved" title="Geometry Wars: Retro Evolved" target="_blank" rel="external">Geometry Wars</a> restricts the movement in a confined box, etc. Since space is infinite, I thought it would be cool to implement that “feature” in the game as well. </p>
<p>Phaser CE does not provide this out of the box, but it does provide the tools to do it. We start with a background that looks like this:</p>
<img src="/2017/05/01/To-infinity-and-beyond/stars.png" alt="Stars background" title="Stars background">
<p>It’s just a bunch of white spots on a transparent canvas (I added some color in the background to make them visible on the blog).</p>
<figure class="highlight js"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div></pre></td><td class="code"><pre><div class="line"><span class="keyword">this</span>.game.stage.backgroundColor = <span class="string">'#222523'</span>;</div><div class="line"><span class="keyword">this</span>.background = <span class="keyword">new</span> Phaser.TileSprite(<span class="keyword">this</span>.game,</div><div class="line">                                        <span class="number">0</span> - (<span class="keyword">this</span>.game.world.centerX / <span class="number">2</span>),</div><div class="line">                                        <span class="number">0</span> - (<span class="keyword">this</span>.game.world.centerY / <span class="number">2</span>),</div><div class="line">                                        BG_SIZE, BG_SIZE,</div><div class="line">                                        <span class="string">'stars'</span>);</div><div class="line"><span class="keyword">this</span>.background.fixedToCamera = <span class="literal">true</span>;</div></pre></td></tr></table></figure>
<p>Initially we load our background in <em>create</em>. We use a tile sprite, since we’ll be be “rolling” the texture on the sprite. We also set it to be fixed to the camera, as it won’t be automatically moving according to the camera movement. It will always stay at the original position.</p>
<p>Then in <em>update</em>, we need to do two things. Firstly, we move the tile’s position in the oposite way the camera is moving (this feels a bit like Futurama’s <a href="http://futurama.wikia.com/wiki/Dark_matter_engine" title="Dark matter engine" target="_blank" rel="external">dark matter engine</a>). Secondly, we set the new camera bounds around the player.</p>
<figure class="highlight js"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div></pre></td><td class="code"><pre><div class="line"><span class="keyword">this</span>.background.tilePosition.x = -<span class="keyword">this</span>.game.camera.x;</div><div class="line"><span class="keyword">this</span>.background.tilePosition.y = -<span class="keyword">this</span>.game.camera.y;</div><div class="line"></div><div class="line"><span class="keyword">this</span>.game.world.bounds.centerOn(<span class="keyword">this</span>.player.body.x, <span class="keyword">this</span>.player.body.y);</div><div class="line"><span class="keyword">this</span>.game.camera.setBoundsToWorld();</div></pre></td></tr></table></figure>
<p>If I had to make an analogy, imagine space being a toilet paper roll. And on the paper, there are the stars that you want to show.</p>
<img src="/2017/05/01/To-infinity-and-beyond/space_toilet_paper.png" alt="Space toiler paper" title="Space toiler paper">
<p>The roll stays always on view, fixed to the same position as our player moves. The paper is rolling to the left or right, according to where the player is going, and creates the illusion of movement.</p>
<p>And here’s our toilet paper rolling stars background:</p>
<img src="/2017/05/01/To-infinity-and-beyond/infinite_background.gif" alt="Infinite background" title="Infinite background">

                
            </div>

            <!-- Comments -->
            
                <div class="col-lg-8 col-lg-offset-2 col-md-10 col-md-offset-1">
                    
    <hr />
    <h3>Comments:</h3>
    <div id="disqus_thread">
        <noscript>Please enable JavaScript to view the <a href="//disqus.com/?ref_noscript">comments powered by Disqus.</a></noscript>
    </div>



    <hr />
    <h3>Comments:</h3>
    <div id="fb-root"></div>
    <script>
        (function(d, s, id) {
            var js, fjs = d.getElementsByTagName(s)[0];
            if (d.getElementById(id)) return;
            js = d.createElement(s); js.id = id;
            js.src = "//connect.facebook.net/en_US/all.js#xfbml=1&appId=300675490369486";
            fjs.parentNode.insertBefore(js, fjs);
        }(document, 'script', 'facebook-jssdk'));
    </script>

    <div class="fb-comments" data-href="http://jManji.github.io/adastra-devlog/2017/05/01/To-infinity-and-beyond/index.html" data-num-posts="5" data-width="100%" data-colorscheme="light"></div>

                </div>
            
        </div>
    </div>
</article>

    <!-- Footer -->
    <hr />

<!-- Footer -->
<footer>
    <div class="container">
        <div class="row">
            <div class="col-lg-8 col-lg-offset-2 col-md-10 col-md-offset-1">
                <ul class="list-inline text-center">
                    

                    

                    
                        <li>
                            <a href="https://github.com/jManji/adastra" target="_blank">
                                <span class="fa-stack fa-lg">
                                    <i class="fa fa-circle fa-stack-2x"></i>
                                    <i class="fa fa-github fa-stack-1x fa-inverse"></i>
                                </span>
                            </a>
                        </li>
                    

                    

                    

                    
                </ul>
                <p class="copyright text-muted">&copy; 2017 strahius<br></p>
                <p class="copyright text-muted">Original Theme <a target="_blank" href="http://startbootstrap.com/template-overviews/clean-blog/">Clean Blog</a> from <a href="http://startbootstrap.com/" target="_blank">Start Bootstrap</a></p>
                <p class="copyright text-muted">Adapted for <a target="_blank" href="https://hexo.io/">Hexo</a> by <a href="http://www.codeblocq.com/" target="_blank">Jonathan Klughertz</a></p>
            </div>
        </div>
    </div>
</footer>


    <!-- After footer scripts -->
    
<!-- jQuery -->
<script src="//code.jquery.com/jquery-2.1.4.min.js"></script>

<!-- Bootstrap -->
<script src="//maxcdn.bootstrapcdn.com/bootstrap/3.3.6/js/bootstrap.min.js"></script>

<!-- Gallery -->
<script src="//cdnjs.cloudflare.com/ajax/libs/featherlight/1.3.5/featherlight.min.js" type="text/javascript" charset="utf-8"></script>

<!-- Disqus Comments -->

<script type="text/javascript">
    var disqus_shortname = 'ad-astra-1';

    (function(){
        var dsq = document.createElement('script');
        dsq.type = 'text/javascript';
        dsq.async = true;
        dsq.src = '//' + disqus_shortname + '.disqus.com/embed.js';
        (document.getElementsByTagName('head')[0] || document.getElementsByTagName('body')[0]).appendChild(dsq);
    }());
</script>



</body>

</html>